<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:c="http://java.sun.com/jsp/jstl/core">
<head>
    <title>Keeper</title>
    <script src="../resources/js/jquery-3.2.1.min.js"/>
    <script src="../resources/js/box-menu.js"/>
    <link rel="stylesheet" type="text/css" href="../resources/css/styles1.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"
          integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous"/>
    <h:outputScript name="jsf.js" library="js" target="body"/>



</head>
<h:body link="#ffffff" vlink="none" alink="none">
<section id="menu-1">
    <div class="block_1">
        <div class="profile-logo">
           <!-- <img src="../resources/img/favicon.ico" width="100px"
                 height="100px "/>-->
        </div>
        <div class="profile-img">
           <!-- <img src="../resources/img/" width="100px"
                 height="100px "/>-->
        </div>
        <div class="profile-name">
            <p>АЗИАТ ДРОЧИЛА</p>
            <a>Количество столов: <span>5</span></a>
        </div>
    </div>

    <div class="block_2 ">

        <div>
            <h:form>
            <div class="menu_hookah">КАЛЬЯНЫ</div>
            <div class="container row menu_hookah__hide">
                <div class="peks menu_hookah__back">

                </div>
                <div class="menu_hookah__water">
                    <h:commandButton styleClass="menu_hookah__water" action="#{userController.order.addIntoList('drink:Эспрессо')}">
                        <f:ajax execute="@this" render="menulist sum"/>
                    </h:commandButton>
                </div>
                <div>
                    <h:commandButton styleClass="menu_hookah__milk"  action="#{userController.order.addIntoList('drink:Капучино')}">
                         <f:ajax execute="@this" render="menulist sum"/>
                    </h:commandButton>
                </div>
                <div class="menu_hookah__grape"></div>
            </div>

            <div class="menu_drinks">НАПИТКИ</div>
            <div class="container row menu_drinks__hide">
                <div class="menu_drinks__back"></div>
                <div class="menu_drinks__grape"></div>
            </div>
            <div class="menu_foods">ЕДА</div>
            <div class="container row menu_foods__hide">
                <div class="menu_foods__back"></div>
                <div class="menu_foods__grape"></div>
            </div>
            </h:form>
        </div>
        <div id="ggg" class="nomer_zakaza">
            <h:form id="forma">
                <h:panelGrid id="panel" columns="5">
                    <c:if test="${userController.order.ddIndex() > 0}">
                         <h:commandButton value="#{userController.order.setTextFroButton(0)}" action="#{userController.order.reloadOrder(0)}"  >
                        <!--<f:actionListener type="com.kncorp.project.UserController"/>-->
                             <f:ajax execute="text" render="menulist sum text"/>
                          </h:commandButton>
                    </c:if>

                    <c:if test="${userController.order.ddIndex() > 1}">
                        <h:commandButton value="#{userController.order.setTextFroButton(1)}" action="#{userController.order.reloadOrder(1)}"  >
                            <!--<f:actionListener type="com.kncorp.project.UserController"/>-->
                            <f:ajax execute="text" render="menulist sum text"/>
                        </h:commandButton>
                    </c:if>

                    <c:if test="${userController.order.ddIndex() > 2}">
                        <h:commandButton value="#{userController.order.setTextFroButton(2)}" action="#{userController.order.reloadOrder(2)}"  >
                            <!--<f:actionListener type="com.kncorp.project.UserController"/>-->
                            <f:ajax execute="text" render="menulist sum text"/>
                        </h:commandButton>
                    </c:if>

                    <c:if test="${userController.order.ddIndex() > 3}">
                        <h:commandButton value="#{userController.order.setTextFroButton(3)}" action="#{userController.order.reloadOrder(3)}"  >
                            <!--<f:actionListener type="com.kncorp.project.UserController"/>-->
                            <f:ajax execute="text" render="menulist sum text"/>
                        </h:commandButton>
                    </c:if>

                    <c:if test="${userController.order.ddIndex() > 4}">
                        <h:commandButton value="#{userController.order.setTextFroButton(4)}" action="#{userController.order.reloadOrder(4)}"  >
                            <!--<f:actionListener type="com.kncorp.project.UserController"/>-->
                            <f:ajax execute="text" render="menulist sum text"/>
                        </h:commandButton>
                    </c:if>

                    <c:if test="${userController.order.ddIndex() > 5}">
                        <h:commandButton value="#{userController.order.setTextFroButton(5)}" action="#{userController.order.reloadOrder(5)}"  >
                            <!--<f:actionListener type="com.kncorp.project.UserController"/>-->
                            <f:ajax execute="text" render="menulist sum text"/>
                        </h:commandButton>
                    </c:if>

                    <c:if test="${userController.order.ddIndex() > 6}">
                        <h:commandButton value="#{userController.order.setTextFroButton(6)}" action="#{userController.order.reloadOrder(6)}"  >
                            <!--<f:actionListener type="com.kncorp.project.UserController"/>-->
                            <f:ajax execute="text" render="menulist sum text"/>
                        </h:commandButton>
                    </c:if>

                    <c:if test="${userController.order.ddIndex() > 7}">
                        <h:commandButton value="#{userController.order.setTextFroButton(7)}" action="#{userController.order.reloadOrder(7)}"  >
                            <!--<f:actionListener type="com.kncorp.project.UserController"/>-->
                            <f:ajax execute="text" render="menulist sum text"/>
                        </h:commandButton>
                    </c:if>

                    <c:if test="${userController.order.ddIndex() > 8}">
                        <h:commandButton value="#{userController.order.setTextFroButton(8)}" action="#{userController.order.reloadOrder(8)}"  >
                            <!--<f:actionListener type="com.kncorp.project.UserController"/>-->
                            <f:ajax execute="text" render="menulist sum text"/>
                        </h:commandButton>
                    </c:if>

                    <c:if test="${userController.order.ddIndex() > 9}">
                        <h:commandButton value="#{userController.order.setTextFroButton(9)}" action="#{userController.order.reloadOrder(9)}"  >
                            <!--<f:actionListener type="com.kncorp.project.UserController"/>-->
                            <f:ajax execute="text" render="menulist sum text"/>
                        </h:commandButton>
                    </c:if>

                </h:panelGrid>
            </h:form>
        </div>
    </div>
</section>
<section id="menu-2">
<div class="nomer_spiska">
    <p>KLIENT ID</p>
</div>
<div class="spisok_zakazov">
    <div class="spisok_zakazov__container">
        <div class="spisok_zakazov__kek">
            <!--<div class="koks">
                <p>CLICK HERE</p>
                <div class="table_nomer">
                    <div class="stol-1">1</div>
                    <div class="stol-2">2</div>
                    <div>3</div>
                    <div>4</div>
                    <div>5</div>
                    <div>6</div>
                    <div>7</div>
                    <div>8</div>
                    <div>9</div>
                </div>
            </div>-->
           <!-- <div>
                <h:inputText id="text" value="#{userController.order.stol}" />
            </div>-->
            <h:dataTable id="menulist" value="#{userController.order.list}" var="dr" >
                <h:column>
                    <f:facet name="header">
                        <h:outputText value="Название"/>
                    </f:facet>
                    <h:outputText value="#{dr}"/>
                </h:column>
            </h:dataTable>
        </div>
    </div>

    <div class="itog">
        <p class="spisok_zakazov__itog">ITOG:
            <h:outputText id="sum" value="#{userController.order.sum}"/>
        </p>
    </div>
</div>

<h:form>
    <c:if test="#{userController.order.stol == 0}">

    <h:inputText id="text" value="#{userController.order.stol}" />
    </c:if>
    <div class="button-oplatit">
        <h:commandButton styleClass="oplata oplata_ready" value="ОСТАВИТЬ ОТКРЫТЫМ" action="#{userController.order.leaveOpenOrder}" onclick="asd(text.value())">
            <f:ajax execute="@form" render="menulist sum text"/>
        </h:commandButton>
    </div>
    <div class="button-oplatit">
        <h:commandButton styleClass="oplata oplata_ready" value="ГОТОВО(СОХРАНИТЬ В БД)" action="#{userController.order.saveSoldItems}">
            <f:ajax execute="@this" render="menulist sum"/>
        </h:commandButton>
    </div>
</h:form>
</section>
<section class="fon-stol">
</section>
</h:body>
</html>